<dl class="portlet" tal:define="data view/contents1; contents view/contents" tal:condition="python: contents.title and context.portal_type == 'ilo.qa.qafacility' and len(view.officers()) > 1">

<dt class="portletHeader" tal:content="python:  contents.portlet_title"></dt>

  <dd class="portletItem lastItem" tal:condition="python: not data[0]">
	<form method='post'>
    <label>Officer
      <select onchange='this.form.submit()' name='topicbyofficer' id='topicbyofficer' tal:define='val python: view.searchedValue("topicbyofficer")'>
        <tal:entry tal:repeat='option  view/officers'>
           <option tal:attributes="selected python: (val == str(option['name'])); value python:option['name'];" tal:content="python: option['name']"></option>
        </tal:entry>
      </select>
    </label>
    </form>
  </dd>

 <tal:block tal:define="brains data; topic python: brains[1]; officer python: brains[0]">
  <p tal:condition="python: topic and officer and hasattr(topic, 'lower') " tal:content="python:  'Topics by: '+ str((topic))"></p>
  <p tal:condition="python: topic and officer and not hasattr(topic, 'lower') " tal:content="python:  'Topics by: '+ str((topic[0]))"></p>


  <tal:element tal:repeat="brain python: officer" tal:condition="brains">
    <a tal:attributes="href python: context.absolute_url()+ '/bytopic_view?topic1=' +brain['id']+ '&topicbyofficer='">
      <p tal:content="python: brain['title']"></p>
    </a>
  </tal:element>

  <dd class="portletFooter" tal:condition="python: data[0]">
    <a tal:attributes="href python: context.absolute_url()+ '/bytopic_view?topic1=&topicbyofficer='">
      <p>Search Another Officer</p>
    </a>
  </dd>
  </tal:block>
</dl>


<div class="side_viewlet state-sign" tal:condition="python: view.contents().title and context.portal_type == 'ilo.qa.qafacility' and len(view.officers()) == 1">
  <div data-alert class="alert-box info text-center">
  No Officers Yet.
</div>
  <a class="button expand" tal:attributes="href python: context.absolute_url() + '/++add++ilo.qa.topic'">Add Officer</a >
</div>